DB의 트랜잭션을 공부하기에 앞서 

자동커밋과 수동커밋의 개념에 대해 알고 가야 한다. 

​

■ 자동커밋과 수동커밋의 개념

​

자동커밋 : 기본 설정은 자동커밋으로 설정되어 있다.

편리하긴 하나 쿼리를 하나하나 실행할 때 마다 자동으로 커밋 되어버리기 때문에 우리가 원하는 트랜잭션 기능을 원할하게 사용할 수 없다.

​

그렇기 때문에 우리는 수동커밋을 사용해야 한다.

​

사용법 : 마지막에 'commit' 명령어를 실행

​

​

■ 수동 커밋 사용법

set autocommit false;
​

예를 들어 수동 커밋으로 데이터를 입력했다고 가정해보자.

1번 데이터, 2번 데이터, 3번 데이터를 입력하는 insert문을 실행하고 Rollback을 하게 되면 어떤일이 벌어질까?

​

커밋을 하지 않았기 때문에 아무 데이터도 없는 처음 상태로 돌아간다.

​

그렇다면 자동 커밋상태에서 데이터를 입력하고 insert 문을 실행했다면 어떤일이 벌어질까?

자동으로 커밋되어 버리기 때문에 이 상태에서 Rollback을 해도 내부 데이터는 지워지지 않는다.

​

​

자동커밋 후 롤백

수동커밋 후 롤백

1번 데이터

데이터가 존재

데이터가 존재하지 않음

2번 데이터

데이터가 존재

데이터가 존재하지 않음

